# Central defaults for docker-compose services
# Override per-profile via config/jetson.env, config/mac.env, config/production.env
SG_PROFILE_NAME=default
MQTT_HOST=127.0.0.1
MQTT_PORT=1883
MQTT_TOPIC_CMD=vision/cmd
MQTT_TOPIC_METRIC=vision/mean
MQTT_TOPIC_SNAPSHOT=vision/snapshot
VISION_FRAME_TOPIC=vision/frame/preview
VISION_FRAME_PREVIEW_TOPIC=vision/frame/preview
VISION_FRAME_FULL_TOPIC=vision/frame/full
VISION_EMBEDDINGS_TOPIC=vision/embeddings
VISION_PROMPT_TOPIC=vision/prompt_scores
VL_JEPA_FRAME_TOPIC=vision/frame/preview
VL_JEPA_BACKEND=siglip2
VL_JEPA_MODEL_PATH=/mnt/ssd/models/vl_jepa/vl_jepa.pt
VL_JEPA_MODEL_ID=google/siglip2-base-patch16-224
VL_JEPA_DEVICE=auto
VL_JEPA_INPUT_SIZE=224
VL_JEPA_EMBED_DIM=512
VL_JEPA_FP16=0
VL_JEPA_FRAME_STRIDE=1
VL_JEPA_QUEUE=2
VL_JEPA_MEAN=0.485,0.456,0.406
VL_JEPA_STD=0.229,0.224,0.225
VL_JEPA_POOL=pooler
VL_JEPA_ATTN_IMPL=
SIGLIP_PROMPT_MODEL_ID=google/siglip2-base-patch16-224
SIGLIP_PROMPTS=enemy,boss,npc,player,loot,chest,portal,waypoint,minimap,inventory,quest,dialog,health bar,mana bar,death screen,loading screen,pause menu
SIGLIP_PROMPT_DEVICE=auto
SIGLIP_PROMPT_FP16=0
SIGLIP_PROMPT_INTERVAL_SEC=2.0
SIGLIP_PROMPT_MAX_SIZE=512
SIGLIP_PROMPT_TOP_K=5
SIGLIP_PROMPT_MIN_SCORE=0.2
VISION_FRAME_INTERVAL=0.5
VISION_FRAME_JPEG_QUALITY=50
VISION_FRAME_PREVIEW_QUALITY=50
VISION_FRAME_FULL_QUALITY=95
FRAME_TRANSPORT=mqtt
FRAME_SHM_MAX_BYTES=5242880
FRAME_SHM_SLOTS=8
FRAME_SHM_PREFIX=sg_frame
VISION_FRAME_ENABLED=1
CAPTURE_BACKEND=v4l2
VIDEO_DEVICE=/dev/video0
VIDEO_WIDTH=1280
VIDEO_HEIGHT=720
VIDEO_FPS=30
VIDEO_PIXFMT=YUYV
DEBUG_PORT=5008
VISION_OBJECT_TOPIC=vision/objects
PYTHONPATH=/app
CURSOR_TOPIC=cursor/state
CURSOR_MIN_AREA=5
CURSOR_MAX_AREA=12000
CURSOR_HSV_V_MIN=0
CURSOR_HSV_S_MAX=0
CURSOR_BINARY_THRESHOLD=140
CURSOR_FRAME_STRIDE=1
CURSOR_LOSS_ANNOUNCE_SEC=1.0
CURSOR_MOTION_MIN=12
PYTHONUNBUFFERED=1
OBS_TOPIC=scene/state
SIM_TOPIC=scene/state
ACT_TOPIC=control/keys
ACT_CMD_TOPIC=act/cmd
TEACHER_ACTION_TOPIC=teacher/action
TEACHER_ALPHA_START=0.9
TEACHER_ALPHA_DECAY_STEPS=10000
TEACHER_TARGET_PRIORITY=1
POLICY_GAME_KEYWORDS=health,hp,mana,energy,score,points,level,xp,map,inventory,items,menu,play,start,options,settings,exit,quit,back,cancel,mission,objective,target,enemy,boss,player
POLICY_FORBIDDEN_TEXTS=shop,store,buy,purchase,microtransaction
POLICY_FORBIDDEN_TAGS=shop_button,shop
SHOP_SUPPRESS=1
SHOP_SUPPRESS_DEATH_ONLY=1
POLICY_HOVER_VERIFY=1
POLICY_HOVER_DEBUG=1
RESPAWN_TRIGGER_TEXTS=respawn,revive,resurrect,resurrect at checkpoint,resurrect in town,restart,try again,game over,you died,continue,loading,checkpoint
RESPAWN_FUZZY_THRESHOLD=0.6
RESPAWN_DEBUG=0
THRESH=120.0
DEBOUNCE=0.25
EXPLORE_SIGMA=60.0
CURSOR_TIMEOUT_SEC=1.5
CURSOR_TOLERANCE=0.08
POLICY_SCREEN_WIDTH=1728
POLICY_SCREEN_HEIGHT=1084
POLICY_DESKTOP_KEYWORDS=finder,trash,dock,apple menu,desktop,wallpaper
SCENE_TOPIC=scene/state
SCENE_FLAGS_TOPIC=scene/flags
OBJECT_PREFER_OBSERVATION=1
OBJECT_ALLOW_OBSERVATION_FALLBACK=1
OBJECT_FALLBACK_AFTER_SEC=1.0
EXP_LOG_ENABLED=1
EXP_LOG_DIR=/mnt/ssd/datasets/rollouts
EXP_LOG_FORMAT=jsonl
EXP_LOG_MAX_MB=200
EXP_LOG_FLUSH_SEC=2
EXP_STATUS_INTERVAL_SEC=30
EXP_MATCH_WINDOW_MS=500
EXP_MAX_WAIT_MS=2000
EXP_LOG_COMPRESS=0
EXP_ACTION_ALIAS_TOPIC=
EXP_STORE_EMB_BYTES=0
GAME_SCHEMA_TOPIC=game/schema
GAME_IDENTITY_TOPIC=game/identity
GAME_IDENTITY_PUBLISH_FLAGS=0
GAME_IDENTITY_BIND_MODE=auto
GAME_IDENTITY_GAME_ID=
GAME_IDENTITY_GRACE_SEC=2.0
GAME_IDENTITY_PUBLISH_INTERVAL=1.0
LLM_ENDPOINT=http://127.0.0.1:11434/v1/chat/completions
LLM_MODEL=models/qwen2.5-7b-instruct-q4_k_m.gguf
LLM_API_KEY=dummy
LLM_TIMEOUT=8.0
LLM_DETECT_GAME=1
LLM_QUEUE_HOST=0.0.0.0
LLM_QUEUE_PORT=9010
LLM_QUEUE_UPSTREAM=http://127.0.0.1:11434/v1/chat/completions
LLM_QUEUE_UPSTREAM_TIMEOUT=120
LLM_QUEUE_MAX=20
LLM_QUEUE_WAIT_S=300
LLM_GATE_ENABLED=1
LLM_GATE_FILE=/mnt/ssd/logs/llm_gate.lock
LLM_GATE_TTL_S=120
LLM_GATE_WAIT_S=30
LLM_GATE_POLL_SEC=0.2
LLM_SKIP_IF_GATED=1
LLM_GATE_LOG_SEC=15
LLM_PAUSE_FILE=/mnt/ssd/logs/llm_pause
CONTROL_PROFILE_PATH=/app/data/control_profiles.json
CONTROL_PROFILE_GAME_ID=auto
CONTROL_PROFILE_INCLUDE_WAIT=1
TEACHER_INCLUDE_CONTROLS=1
ONBOARD_REQUEST_LLM_GAME_ID=1
ONBOARD_REQUEST_LLM_PROFILE=1
ONBOARD_PHASE_A_SEC=6.0
ONBOARD_CONTROL_DIFF=8.0
ONBOARD_PREFER_LOCAL_PROFILE=1
ONBOARD_EXTENDED_PROBE=1
ONBOARD_EXTENDED_DIFF_MIN=8.0
ONBOARD_GAME_ID_OVERRIDE=
ONBOARD_IDENTITY_WAIT_SEC=2.0
ONBOARD_FORCE_MOUSE_MOVE=1
POLICY_BRAIN_SCENE_TOPIC=scene/state
POLICY_BRAIN_ACT_TOPIC=act/cmd
POLICY_BRAIN_PUB_TOPIC=policy_brain/cmd
POLICY_BRAIN_METRIC_TOPIC=policy_brain/metrics
POLICY_BRAIN_VECTOR_SIZE=512
POLICY_BRAIN_SCHEMA_VERSION=1
POLICY_BRAIN_CMD_WINDOW_SEC=1.0
POLICY_BRAIN_DEVICE=cpu
POLICY_BRAIN_LOG_LEVEL=INFO
VISION_CMD=vision/cmd
VISION_SNAPSHOT=vision/snapshot
OCR_TEXT=ocr/text
OCR_CMD=ocr/cmd
OCR_LANGS=en
OCR_BACKEND=paddle
OCR_DEBUG_SAVE=0
OCR_DEBUG_DIR=/tmp/ocr_debug
OCR_SCALE_FACTOR=1.0
OCR_MAX_BASE_WIDTH=640
EMBEDDING_GUARD_MODE=run
EMBEDDING_GUARD_SAMPLES=40
EMBEDDING_GUARD_MARGIN=0.05
EMBEDDING_GUARD_ENTER_MARGIN=0.05
EMBEDDING_GUARD_EXIT_MARGIN=-0.05
EMBEDDING_GUARD_DEBOUNCE=3
EMBEDDING_GUARD_DIM=768
EMBED_FEATURE_ENABLED=0
EMBED_FEATURE_DIM=128
EMBED_FEATURE_SOURCE_DIM=768
EMBED_FEATURE_SEED=42
EMBED_FEATURE_LAYER_NORM=1
POLICY_REQUIRE_IN_GAME=0
POLICY_REQUIRE_IN_GAME_STRICT=0
POLICY_REQUIRE_EMBEDDINGS=0
POLICY_EMBED_MAX_AGE_SEC=5.0
POLICY_MEANINGFUL_FALLBACK=0
POLICY_PREFER_TARGETS=1
POLICY_RANDOM_FALLBACK=1
POLICY_USE_OCR_TARGETS=1
POLICY_LABEL_MAP_OPTIONAL=1
POLICY_LABEL_MAP_FALLBACK_PATH=config/label_map.default.json
POLICY_DEFAULT_ACTIONS=
PROGRESS_TOPIC=progress/status
POLICY_EXPLORATION_ENABLED=1
POLICY_EXPLORATION_REWARD_TIMEOUT_SEC=180
POLICY_EXPLORATION_MIN_REWARD=0.05
POLICY_EXPLORATION_LOCATION_AGE_SEC=90
POLICY_EXPLORATION_OBJECT_NEW_RATE_MAX=0.02
POLICY_EXPLORATION_REPEAT_WINDOW=8
POLICY_EXPLORATION_REPEAT_MIN=6
POLICY_EXPLORATION_COOLDOWN_SEC=120
POLICY_EXPLORATION_BURST_ACTIONS=6
POLICY_EXPLORATION_ALLOW_CLICK=0
POLICY_EXPLORATION_KEYS=
POLICY_EXPLORATION_KEYS_FROM_PROFILE=0
POLICY_EXPLORATION_MARGIN=0.08
POLICY_EXPLORATION_MOUSE_RANGE=120
POLICY_EXPLORATION_KEY_BURST=0
POLICY_EXPLORATION_KEY_BURST_COUNT=2
POLICY_EXPLORATION_KEY_BURST_COOLDOWN_SEC=600
TEACHER_REQUIRE_IN_GAME=0
TEACHER_REQUIRE_IN_GAME_STRICT=0
TEACHER_TARGET_AUTOCLICK=0
TEACHER_TARGET_AUTOCLICK_COOLDOWN=2.0
TEACHER_TARGET_AUTOCLICK_SAME_TOL=0.04
DEMO_REQUIRE_IN_GAME=0
DEMO_REQUIRE_IN_GAME_STRICT=0
DEMO_ALLOW_KEYS=0
OCR_GAMMA=1.0
OCR_MIN_ALPHA_RATIO=0.1
OCR_TARGET_MIN_LEN=2
OCR_TARGET_MIN_CONF=0.65
OCR_TARGET_MIN_ALPHA_RATIO=0.6
OCR_TARGET_EXCLUDE_REGEX=^[0-9_\W]+$
OCR_TARGET_STABLE_FRAMES=2
OCR_TARGET_CONSECUTIVE_MIN=2
OCR_MAX_LINE_CHARS=400
OCR_MAX_RESULTS=6
OCR_VARIANT_THRESHOLD=off
OCR_AUTO_INTERVAL=6.0
OCR_AUTO_TIMEOUT=5.0
OCR_FORCE_CPU=1
OMP_NUM_THREADS=1
OPENBLAS_NUM_THREADS=1
MKL_NUM_THREADS=1
VECLIB_MAXIMUM_THREADS=1
NUMEXPR_NUM_THREADS=1
OCR_EASY_TOPIC=ocr_easy/text
OCR_REGIONS_TOPIC=ocr/regions
REGION_WINDOW=20
REGION_MIN_CONF=0.6
REGION_STABILITY_MIN=0.5
REGION_TOPK=6
REGION_IOU_JOIN=0.2
REGION_DIST_JOIN=0.05
REGION_PUBLISH_INTERVAL=1.0
SIMPLE_OCR_INTERVAL=2.5
FRAME_TOPIC=vision/frame/preview
OCR_UNIFIED_TOPIC=ocr/unified
REGION_TTL_SEC=5.0
PUBLISH_EMPTY=1
MAX_REGIONS=3
SIMPLE_OCR_UPSCALE=1.3
SIMPLE_OCR_CONTRAST=2.0
SIMPLE_OCR_SHARPEN=2.3
SIMPLE_OCR_TESS_CONFIG=-l eng --psm 6 --oem 1
SIMPLE_OCR_DEBUG=0
ROI_DEBUG_DIR=/tmp/ocr_roi_debug
OBJECT_TOPIC=vision/objects
ZSD_MODEL_ID=google/owlvit-base-patch32
HF_HOME=/mnt/ssd/models/zeroshot/hf
ZSD_PROMPTS=enemy,boss,player,npc,loot,portal,waypoint,minimap,inventory,quest_marker,dialog_button,health_orb,mana_orb,menu_button
ZSD_CONF_THRESHOLD=0.08
ZSD_MAX_PER_PROMPT=2
ZSD_INTERVAL=2.0
ZSD_FRAME_TIMEOUT=5.0
ZSD_MAX_SIZE=640
ZSD_THREADS=2
VISION_MEAN_TOPIC=vision/mean
VISION_SNAPSHOT_TOPIC=vision/snapshot
VISION_OBSERVATION_TOPIC=vision/observation
PROMPT_SCORE_TTL_SEC=2.5
PROMPT_TAG_MIN_SCORE=0.2
PROMPT_TAG_TOP_K=4
PROMPT_TAG_PREFIX=prompt_
PROMPT_TAG_ALLOW=
OCR_TEXT_TOPIC=ocr/text
SIMPLE_OCR_TOPIC=simple_ocr/text
TEACH_LOG_LEVEL=DEBUG
TEACH_CMD_TOPIC=teach/cmd
TRAIN_JOB_TOPIC=train/jobs
MEM_TOPIC=mem/store
TRAIN_LOG_LEVEL=DEBUG
TRAIN_STATUS_TOPIC=train/status
CHECKPOINT_TOPIC=train/checkpoints
RECORDER_DIR=/mnt/ssd/datasets/episodes
RECORDER_SESSION_ENABLE=1
RECORDER_DATASET_DIR=/mnt/ssd/datasets
RECORDER_FRAME_TOPIC=vision/frame/preview
RECORDER_SENSOR_TOPICS=
RECORDER_SESSION_ID=
RECORDER_EXPECT_FPS=0
RECORDER_GAME_ID=
RECORDER_MAX=2000
MODEL_DIR=/mnt/ssd/models
TRAIN_EPOCHS=3
TRAIN_MAX_SAMPLES=2000
EVAL_CMD_TOPIC=eval/cmd
EVAL_RESULT_TOPIC=eval/result
POLICY_ACTION_TOPIC=control/keys
ACT_RESULT_TOPIC=act/result
ACT_MAX_ACTIONS=20
ACT_WINDOW_SEC=10.0
CODEX_CMD_TOPIC=codex/cmd
CODEX_REPLY_TOPIC=codex/reply
BUDGET_TOPIC=budget/update
ACT_CMD_ALIAS=act/request
REWARD_TOPIC=train/reward
MEM_STORE_TOPIC=mem/store
MEM_QUERY_TOPIC=mem/query
MEM_REPLY_TOPIC=mem/reply
BUDGET_SUMMARY_TOPIC=budget/summary
BUDGET_TOKEN_LIMIT=20000
CONTROL_TOPIC=control/keys
ACTION_INTERVAL=0.75
TEACH_TOPIC=teach/request
TEACH_ALIAS=teach/cmd
AUTO_TRAIN_MIN_SAMPLES=40
AUTO_TRAIN_MIN_INCREMENT=10
AUTO_TRAIN_CHECK_INTERVAL=15
AUTO_TRAIN_COOLDOWN=300
SNAPSHOT_TOPIC=vision/snapshot
TEACHER_PROVIDER=local
TEACHER_LOCAL_ENDPOINT=http://127.0.0.1:11434/v1/chat/completions
TEACHER_LOCAL_TIMEOUT=60
TEACHER_INTERVAL_SEC=10.0
THERMAL_TOPIC=system/thermal
PINNED_PATH=/mnt/ssd/memory/pinned.json
PROGRESS_TOPIC=progress/status
PROGRESS_LOG_PATH=/mnt/ssd/logs/progress.log
UNDERSTANDING_TOPIC=progress/understanding
UNDERSTANDING_PUBLISH_SEC=10
UNDERSTANDING_EMBED_SAMPLE_SEC=1.0
UNDERSTANDING_LOCATION_SIM=0.86
UNDERSTANDING_LOCATION_EMA=0.1
UNDERSTANDING_LOCATION_MAX=200
UNDERSTANDING_LOCATION_WINDOW=120
UNDERSTANDING_LOCATION_VOCAB_MAX=500
UNDERSTANDING_MIN_EMBED_DIM=64
UNDERSTANDING_GROUNDING_RADIUS=0.08
UNDERSTANDING_CURSOR_STALE_SEC=1.0
CURSOR_TOPIC=cursor/state
LOG_MONITOR_DIRS=/app/logs
LOG_SUMMARY_TOPIC=logs/summary
LOG_ALERT_TOPIC=logs/alerts
LOG_MONITOR_INTERVAL=5
KEY_TOPIC=control/keys
CONTROL_BRIDGE_URL=http://127.0.0.1:5001/cmd
KEYBOARD_DEV=/dev/hidg0
MOUSE_DEV=/dev/hidg1
OBJECT_DETECTOR_BACKEND=onnx
OBJECT_MODEL_PATH=/mnt/ssd/models/yolo/yolo11n_416_fp32.onnx
OBJECT_DEVICE=cpu
OBJECT_IMAGE_SIZE=416
OBJECT_CLASS_PATH=/mnt/ssd/models/yolo/classes_generic.txt
OBJECT_CONF_THRESHOLD=0.25
OBJECT_IOU_THRESHOLD=0.45
OBJECT_QUEUE=2
PERCEPTION_TOPIC=vision/observation
YOLO11_WEIGHTS=/mnt/ssd/models/yolo/yolo11n.pt
YOLO11_DEVICE=cuda:0
YOLO11_CONF=0.20
YOLO11_IMGSZ=416
YOLO_MAX_SIZE=416
YOLO_FALLBACK_CPU=1
YOLO_WORLD_CLASSES=enemy,boss,player,npc,loot,portal,waypoint,quest_marker,dialog_button
DETECTOR_BACKEND=yolo11_torch
PERCEPTION_DEBUG=1
OCR_USE_GPU=0
OCR_PADDLE_LANG=en
OCR_USE_ANGLE_CLS=1
OCR_MIN_CONF=0.05
PLAYER_LOCATOR_ENABLED=1
PLAYER_LOCATOR_CENTER_X=0.5
PLAYER_LOCATOR_CENTER_Y=0.55
PLAYER_LOCATOR_MAX_OFFSET=0.45
PLAYER_LOCATOR_MIN_AREA=0.01
PLAYER_LOCATOR_ROI=0.25,0.25,0.75,0.9
PLAYER_LOCATOR_MIN_ROI_AREA=0.02
HINT_TOPIC=vision/hints
HINT_SERVER_URL=http://127.0.0.1:5010/infer
HINT_INTERVAL=2.0
HINT_TIMEOUT=4.0
HINT_MAX_QUEUE=1
HINT_ENABLED=1
SIM_STATE_TOPIC=sim_core/state
SIM_ACTION_TOPIC=sim_core/action
SIM_CMD_TOPIC=sim_core/cmd
SIM_REWARD_TOPIC=train/reward
SIM_DR_LEVEL=medium
GOALS_TOPIC=goals/high_level
GOAP_TASK_TOPIC=goap/tasks
GOAP_CALIBRATION_MAX_AGE=86400
RESEARCH_TOPIC=research/events
RESEARCH_DOC_DIR=/mnt/ssd/research/cache
WORLD_MODEL_PATH=/mnt/ssd/models/heads/world_model/world_model.pt
AGENT_NAME=vision_controller
PRED_ERROR_TOPIC=world_model/pred_error
VISION_CONFIG_TOPIC=vision/config
VISION_CTRL_ERROR_HIGH=0.7
VISION_CTRL_ERROR_LOW=0.3
VISION_CTRL_SWITCH_COOLDOWN_SEC=15
VISION_CTRL_LOG_LEVEL=INFO
HEARTBEAT_INTERVAL=5.0
CONF_THRESHOLD=0.05
DS_SOURCE=v4l2
DS_V4L2_DEVICE=/dev/video0
DS_V4L2_WIDTH=0
DS_V4L2_HEIGHT=0
DS_V4L2_FPS=0
DS_V4L2_FORMAT=AUTO
VIDEO_SOURCE=
YOLO_LOG_TOPIC=vision/objects
YOLO_LOG_DIR=/mnt/ssd/logs/yolo
HEALTH_TOPIC=system/health
ALERT_TOPIC=system/alert
TIMEOUT_VISION=5.0
TIMEOUT_SCENE=10.0
TIMEOUT_POLICY=60.0
LATENCY_TOPIC=metrics/latency
CONTROL_METRIC_TOPIC=metrics/control
CONTROL_READY_WINDOW=50
CONTROL_METRIC_SAMPLE_EVERY=5
SLA_E2E_MS=0
SLA_STAGE_CAPTURE_MS=0
SLA_STAGE_DETECT_MS=0
SLA_STAGE_OCR_MS=0
SLA_STAGE_FUSE_MS=0
SLA_STAGE_POLICY_MS=0
SLA_TICK_MS=0
SLA_JERK_MAX=0
LOG_DIR=/app/logs
GOAP_DIALOG_PROFILE=poe_mac

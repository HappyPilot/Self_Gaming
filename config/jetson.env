# Jetson overrides
SG_PROFILE_NAME=jetson
# LLM queue (local) -> upstream Mac host
LLM_ENDPOINT=http://127.0.0.1:9010/v1/chat/completions
LLM_QUEUE_UPSTREAM=http://10.0.0.230:11434/v1/chat/completions
LLM_MODEL=/Users/dima/llama.cpp/models/qwen2.5-7b-instruct-q4_k_m.gguf
LLM_TIMEOUT=40.0
LLM_PROFILE_MAX_TOKENS=200
LLM_PROMPT_MAX_TOKENS=180
LLM_GATE_FILE=/mnt/ssd/logs/llm_gate.lock
LLM_GATE_WAIT_S=60
LLM_PAUSE_FILE=/mnt/ssd/logs/llm_pause
TEACHER_LOCAL_ENDPOINT=http://127.0.0.1:9010/v1/chat/completions
TEACHER_OPENAI_MODEL=/Users/dima/llama.cpp/models/qwen2.5-7b-instruct-q4_k_m.gguf
ONBOARD_DISABLE_PROBES=0
ONBOARD_PREFER_LOCAL_PROFILE=0
ONBOARD_EXTENDED_PROBE=1
ONBOARD_EXTENDED_DIFF_MIN=8.0
ONBOARD_REQUEST_LLM_PROMPTS=1
ONBOARD_PROMPT_FALLBACK=1
ONBOARD_PREFER_LOCAL_PROMPTS=0
CONTROL_PROFILE_GAME_ID=auto
ONBOARD_GAME_ID_OVERRIDE=
GAME_IDENTITY_TOPIC=game/identity
GAME_IDENTITY_PUBLISH_FLAGS=1
GAME_IDENTITY_BIND_MODE=auto
GAME_IDENTITY_GRACE_SEC=2.0
GAME_IDENTITY_PUBLISH_INTERVAL=1.0
ONBOARD_IDENTITY_WAIT_SEC=2.0
VISION_PROMPT_CONFIG_TOPIC=vision/prompts
PROMPT_PROFILE_PATH=/app/data/prompt_profiles.json
ONBOARD_PROMPT_MIN_LEN=2
ONBOARD_PROMPT_MAX=18
YOLO_DYNAMIC_PROMPTS=1
YOLO_DYNAMIC_PROMPT_MAX=12
YOLO_DYNAMIC_PROMPT_MIN_LEN=2
YOLO_DYNAMIC_INTERVAL_SEC=10.0
YOLO_DYNAMIC_PROMPT_ALLOW=enemy,boss,player,ally,npc,loot,chest,portal,waypoint,quest marker,objective marker,door,gate,exit,vehicle,vendor,shop,shrine,trap,creature,monster,hostile,target,corpse,item,pickup
YOLO_DYNAMIC_PROMPT_DENY=
# To enable heavy services (world_model, etc.), run with COMPOSE_PROFILES=heavy.
# Experimental detectors (perception/zeroshot) require COMPOSE_PROFILES=experimental.
#
# OCR_FORCE_CPU=1 overrides OCR_USE_GPU=1.
OCR_BACKEND=paddle
OCR_USE_GPU=0
OCR_FORCE_CPU=1
OCR_FRAME_TOPIC=vision/frame/full
OCR_PREFER_SNAPSHOT=0
OCR_MAX_BASE_WIDTH=1600
OCR_GAMMA=1.1
OCR_FALLBACK_ON_EMPTY=1
OCR_FALLBACK_MIN_RESULTS=1
OCR_FALLBACK_BACKEND=easyocr
OCR_TARGET_MIN_LEN=2
OCR_TARGET_MIN_CONF=0.6
OCR_TARGET_MIN_ALPHA_RATIO=0.6
OCR_TARGET_EXCLUDE_REGEX=^[0-9_\W]+$|^(.)\1+$
OCR_TARGET_STABLE_FRAMES=2
OCR_TARGET_CONSECUTIVE_MIN=2
SIMPLE_OCR_FRAME_TOPIC=vision/frame/full
SIMPLE_OCR_UPSCALE=1.8
SIMPLE_OCR_CONTRAST=2.0
SIMPLE_OCR_SHARPEN=2.2
SIMPLE_OCR_TESS_CONFIG=-l eng --psm 7 --oem 1
OCR_AGG_WINDOW=4
OCR_AGG_MIN_VOTES=3
OCR_AGG_GRID=12
REGION_WINDOW=20
REGION_STABILITY_MIN=0.6
REGION_TOPK=6
DETECTOR_BACKEND=yolo_trt_engine
YOLO11_WEIGHTS=/mnt/ssd/models/yolo/yolov8s_worldv2_320_fp16.engine
YOLO11_DEVICE=cuda:0
YOLO11_CONF=0.03
YOLO11_IMGSZ=320
YOLO_CLASS_PATH=/mnt/ssd/models/yolo/coco.names
YOLO_WORLD_CLASSES=person,character,enemy,monster,boss,npc,loot,chest,portal,waypoint,quest_marker,dialog_button,ui_button,creature,hostile,target,corpse,item,pickup
OBJECT_QUEUE=3
VISION_MODE_DEFAULT=medium
VISION_FRAME_JPEG_QUALITY=80
VISION_FRAME_INTERVAL=1.0
VIDEO_DEVICE=/dev/video0
DS_V4L2_DEVICE=/dev/video0
CAPTURE_BACKEND=v4l2
DS_SOURCE=http
VIDEO_SOURCE=http://127.0.0.1:5008/video_feed
CONF_THRESHOLD=0.12
NMS_IOU=0.6
MAX_DETECTIONS_PER_FRAME=20
CLASS_WHITELIST=
CLASS_LABELS=
DEBUG_YOLO=0
ENGINE_INPUT_SIZE=320
# Object detection (stable ONNX CPU)
OBJECT_DETECTOR_BACKEND=onnx
OBJECT_MODEL_PATH=/mnt/ssd/models/yolo/yolo11n_416_fp32.onnx
OBJECT_CLASS_PATH=/mnt/ssd/models/yolo/coco.names
OBJECT_DEVICE=cpu
OBJECT_CONF_THRESHOLD=0.1
OBJECT_IOU_THRESHOLD=0.45
OBJECT_IMAGE_SIZE=416
POLICY_ADAPTER_BACKEND=titans
WITH_TITANS=1
TITANS_DIM=256
TITANS_CHUNK=32
TITANS_UPDATE_INTERVAL=1
TITANS_LOAD_MEMORY=0
TITANS_MEM_PATH=/data/titans_memory.pth
# VL-JEPA (SigLIP2) - CPU mode to keep GPU free for PPO jobs
VL_JEPA_BACKEND=siglip2
VL_JEPA_MODEL_ID=google/siglip2-base-patch16-224
VL_JEPA_POOL=pooler
VL_JEPA_ATTN_IMPL=sdpa
VL_JEPA_DEVICE=cpu
VL_JEPA_FP16=0
VL_JEPA_ENGINE_PATH=
VL_JEPA_MODEL_PATH=
VL_JEPA_INPUT_SIZE=224
VL_JEPA_EMBED_DIM=768
VL_JEPA_FRAME_STRIDE=1
VL_JEPA_EMBED_FPS=2
VL_JEPA_CACHE_HASH=1
VL_JEPA_QUEUE=1
SIGLIP_PROMPT_MODEL_ID=google/siglip2-base-patch16-224
SIGLIP_PROMPTS=enemy,boss,npc,player,loot,chest,portal,waypoint,minimap,inventory,quest,dialog,health bar,mana bar,death screen,loading screen,pause menu
SIGLIP_PROMPT_DEVICE=cpu
SIGLIP_PROMPT_FP16=0
SIGLIP_PROMPT_INTERVAL_SEC=2.0
SIGLIP_PROMPT_MAX_SIZE=512
SIGLIP_PROMPT_TOP_K=5
OCR_MIN_ALPHA_RATIO=0.4
OCR_MAX_LINE_CHARS=120
OCR_MAX_RESULTS=4
OCR_VARIANT_THRESHOLD=off
SIGLIP_PROMPT_MIN_SCORE=0.02
SIGLIP_PROMPT_MIN_LEN=2
SIGLIP_PROMPT_MAX=24
SIGLIP_PROMPT_CONFIG_INTERVAL_SEC=5.0
SCENE_EMBED_PUBLISH_INTERVAL=2.0
UNDERSTANDING_OCR_VOCAB_MAX=800
SCENE_FLAGS_TOPIC=scene/flags
SCENE_ENEMY_BAR_ENABLE=1
SCENE_ENEMY_BAR_FRAME_TOPIC=vision/frame/preview
SCENE_ENEMY_BAR_INTERVAL=0.5
SCENE_ENEMY_BAR_MAX_AGE_SEC=1.5
SCENE_ENEMY_BAR_MIN_ASPECT=2.5
SCENE_ENEMY_BAR_MIN_WIDTH=0.01
SCENE_ENEMY_BAR_MAX_WIDTH=0.35
SCENE_ENEMY_BAR_MAX_HEIGHT=0.05
SCENE_ENEMY_BAR_MIN_Y=0.08
SCENE_ENEMY_BAR_MAX_Y=0.85
SCENE_ENEMY_BAR_MIN_RED_RATIO=0.3
SCENE_ENEMY_BAR_MAX_BARS=5
SCENE_ENEMY_BAR_MAX_WIDTH_PX=720
SCENE_ENEMY_BAR_DEBUG=1
PROMPT_SCORE_TTL_SEC=3.0
PROMPT_TAG_MIN_SCORE=0.02
PROMPT_TAG_TOP_K=4
PROMPT_TAG_PREFIX=prompt_
PROMPT_TAG_ALLOW=enemy,boss,player,loot,chest,portal,waypoint,quest,dialog,health bar,mana bar
SCENE_GENERIC_ENEMY_LABELS=person,character,npc
SCENE_GENERIC_ENEMY_EXCLUDE_RADIUS=0.08
OBJECT_PREFER_OBSERVATION=1
OBJECT_ALLOW_OBSERVATION_FALLBACK=1
OBJECT_FALLBACK_AFTER_SEC=3.0
PERCEPTION_TOPIC=vision/observation_ds
DS_SOURCE=http
VIDEO_SOURCE=http://127.0.0.1:5008/video_feed
EMBEDDING_GUARD_MODE=run
EMBEDDING_GUARD_DATA_DIR=/mnt/ssd/models/embedding_guard
EMBEDDING_GUARD_GAME_SAMPLES=/mnt/ssd/models/embedding_guard/game_embeddings.json
EMBEDDING_GUARD_NON_SAMPLES=/mnt/ssd/models/embedding_guard/non_embeddings.json
EMBEDDING_GUARD_MU_GAME=/mnt/ssd/models/embedding_guard/mu_game.json
EMBEDDING_GUARD_MU_NON=/mnt/ssd/models/embedding_guard/mu_non.json
EMBEDDING_GUARD_SAMPLES=40
EMBEDDING_GUARD_MARGIN=0.05
EMBEDDING_GUARD_ENTER_MARGIN=0.05
EMBEDDING_GUARD_EXIT_MARGIN=-0.05
EMBEDDING_GUARD_DEBOUNCE=3
EMBEDDING_GUARD_DIM=768
POLICY_REQUIRE_IN_GAME=1
POLICY_REQUIRE_IN_GAME_STRICT=1
POLICY_REQUIRE_EMBEDDINGS=1
POLICY_EMBED_MAX_AGE_SEC=12.0
POLICY_MEANINGFUL_FALLBACK=1
POLICY_RANDOM_FALLBACK=0
POLICY_ENEMY_SKILL_MIN_INTERVAL=0.4
POLICY_USE_OCR_TARGETS=1
POLICY_EXPLORATION_KEYS_FROM_PROFILE=1
POLICY_EXPLORATION_REWARD_TIMEOUT_SEC=90
POLICY_EXPLORATION_LOCATION_AGE_SEC=45
POLICY_EXPLORATION_OBJECT_NEW_RATE_MAX=0.05
POLICY_EXPLORATION_REPEAT_WINDOW=6
POLICY_EXPLORATION_REPEAT_MIN=4
POLICY_EXPLORATION_COOLDOWN_SEC=60
POLICY_EXPLORATION_BURST_ACTIONS=8
POLICY_EXPLORATION_MOUSE_RANGE=160
POLICY_EXPLORATION_KEY_BURST=1
POLICY_EXPLORATION_KEY_BURST_COUNT=3
POLICY_EXPLORATION_KEY_BURST_COOLDOWN_SEC=180
TEACHER_REQUIRE_IN_GAME=1
TEACHER_REQUIRE_IN_GAME_STRICT=1
TEACHER_ALLOW_OCR_GAME_ID=0
TEACHER_PROMPT_TOP_K=5
TEACHER_PROMPT_MIN_SCORE=0.02
TEACHER_PROMPT_ALLOW=enemy,boss,player,loot,chest,portal,waypoint,quest,dialog,health bar,mana bar
TEACHER_TARGET_AUTOCLICK=1
TEACHER_TARGET_AUTOCLICK_COOLDOWN=2.0
TEACHER_TARGET_AUTOCLICK_SAME_TOL=0.05
DEMO_REQUIRE_IN_GAME=1
DEMO_REQUIRE_IN_GAME_STRICT=1
TEACHER_ALPHA_START=0.6
TEACHER_ALPHA_MIN=0.1
TEACHER_INTERVAL_SEC=20.0
EMBED_FEATURE_ENABLED=1
EMBED_FEATURE_DIM=128
EMBED_FEATURE_SOURCE_DIM=768
EMBED_FEATURE_SEED=42
EMBED_FEATURE_LAYER_NORM=1
CURIOSITY_MODE=auto
CURIOSITY_EMBED_WEIGHT=0.12
CURIOSITY_EMBED_SCALE=1.0
CURIOSITY_EMBED_MAX=0.2
CURIOSITY_LOCATION_WEIGHT=0.2
CURIOSITY_OBJECT_WEIGHT=0.12
CURIOSITY_OCR_WEIGHT=0.08
CURIOSITY_PROGRESS_MAX=0.25
EXP_LOG_ENABLED=1
EXP_LOG_DIR=/mnt/ssd/datasets/rollouts
RECORDER_MAX=4000
TRAIN_MAX_SAMPLES=4000
EXP_LOG_FORMAT=jsonl
EXP_LOG_MAX_MB=200
EXP_LOG_FLUSH_SEC=2
EXP_STATUS_INTERVAL_SEC=30
EXP_MATCH_WINDOW_MS=500
EXP_MAX_WAIT_MS=2000
EXP_LOG_COMPRESS=1
EXP_STORE_EMB_BYTES=1
